{"ast":null,"code":"import _defineProperty from\"C:/Users/LENOVO/OneDrive/Desktop/notdeploy/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/LENOVO/OneDrive/Desktop/notdeploy/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/LENOVO/OneDrive/Desktop/notdeploy/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useRef,useState}from'react';import{useNavigate}from'react-router-dom';import noteContext from\"../context/notes/noteContext\";import Addnote from'./Addnote';import Noteitem from'./Noteitem';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Notes=function Notes(){var navigate=useNavigate();var context=useContext(noteContext);var notes=context.notes,fetchNotes=context.fetchNotes,editNote=context.editNote,showAlert=context.showAlert;useEffect(function(){if(localStorage.getItem('token'))fetchNotes();else{navigate('/login');showAlert(\"Please Login to preceed\",'warning');}// eslint-disable-next-line\n},[]);// useRef used to refer a component, We can show a Edit note modal using the edit icon and also through the modal button\nvar _useState=useState({id:\"\",etitle:\"\",edescription:\"\",etag:\"\"}),_useState2=_slicedToArray(_useState,2),field=_useState2[0],setField=_useState2[1];var refer=useRef(null);var refClose=useRef(null);var updateNote=function updateNote(currentnote){setField({id:currentnote._id,etitle:currentnote.title,edescription:currentnote.description,etag:currentnote.tag});refer.current.click();};var onChange=function onChange(e){setField(_objectSpread(_objectSpread({},field),{},_defineProperty({},e.target.name,e.target.value)));};var callEdit=function callEdit(){editNote(field.id,field.etitle,field.edescription,field.etag);refClose.current.click();};return/*#__PURE__*/_jsxs(\"div\",{className:\"col notePage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"noteBox\",children:/*#__PURE__*/_jsx(Addnote,{})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",ref:refer,className:\"btn btn-primary d-none\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#staticBackdrop\",children:\"Launch static backdrop modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"staticBackdrop\",\"data-bs-backdrop\":\"static\",\"data-bs-keyboard\":\"false\",tabIndex:\"-1\",\"aria-labelledby\":\"staticBackdropLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"staticBackdropLabel\",children:\"Edit Note\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"container my-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etitle\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etitle\",name:\"etitle\",value:field.etitle,onChange:onChange,\"aria-describedby\":\"titleHelp\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"edescription\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"edescription\",name:\"edescription\",value:field.edescription,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etag\",className:\"form-label\",children:\"Tag\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etag\",name:\"etag\",value:field.etag,onChange:onChange})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",ref:refClose,className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:callEdit,children:\"Update\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"formDiv\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mx-2 my-2 formHeading\",children:\"Your Notes\"}),notes.length===0&&/*#__PURE__*/_jsx(\"strong\",{id:\"noNotes\",children:\"No notes to display\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:notes.map(function(note){return/*#__PURE__*/_jsx(Noteitem,{updateNote:updateNote,note:note},note._id);})})]})]});};export default Notes;","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","useNavigate","noteContext","Addnote","Noteitem","Notes","navigate","context","notes","fetchNotes","editNote","showAlert","localStorage","getItem","id","etitle","edescription","etag","field","setField","refer","refClose","updateNote","currentnote","_id","title","description","tag","current","click","onChange","e","target","name","value","callEdit","length","map","note"],"sources":["C:/Users/LENOVO/OneDrive/Desktop/notdeploy/frontend/src/components/Notes.js"],"sourcesContent":["import React, {useContext, useEffect, useRef, useState} from 'react'\r\nimport {useNavigate} from 'react-router-dom'\r\nimport noteContext from \"../context/notes/noteContext\";\r\nimport Addnote from './Addnote';\r\nimport Noteitem from './Noteitem';\r\n\r\nconst Notes = () => {\r\n  const navigate = useNavigate();\r\n  const context = useContext(noteContext);\r\n  const {notes, fetchNotes, editNote, showAlert } = context;\r\n  useEffect(() => {\r\n    if(localStorage.getItem('token'))\r\n      fetchNotes();\r\n    else {\r\n      navigate('/login')\r\n      showAlert(\"Please Login to preceed\", 'warning');\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [])\r\n\r\n  // useRef used to refer a component, We can show a Edit note modal using the edit icon and also through the modal button\r\n  const [field, setField] = useState({id: \"\", etitle:\"\", edescription:\"\", etag:\"\"})\r\n\r\n  const refer = useRef(null);\r\n  const refClose = useRef(null);\r\n\r\n    const updateNote = (currentnote)=>{\r\n      setField({\r\n        id: currentnote._id,\r\n        etitle: currentnote.title,\r\n        edescription: currentnote.description,\r\n        etag: currentnote.tag\r\n      })\r\n      refer.current.click();\r\n      \r\n    }\r\n\r\n    const onChange = (e)=>{\r\n      setField({...field, [e.target.name]: e.target.value})\r\n  }\r\n\r\n    const callEdit = ()=>{\r\n      editNote( field.id, field.etitle, field.edescription, field.etag );\r\n      refClose.current.click();\r\n    }\r\n  \r\n  return (\r\n    <div className=\"col notePage\" >\r\n      <div className='noteBox'>\r\n        <Addnote/>\r\n      </div>\r\n\r\n          <button type=\"button\" ref={refer} className=\"btn btn-primary d-none\" data-bs-toggle=\"modal\" data-bs-target=\"#staticBackdrop\">\r\n            Launch static backdrop modal\r\n          </button>\r\n\r\n          <div className=\"modal fade\" id=\"staticBackdrop\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabIndex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n            <div className=\"modal-dialog\">\r\n              <div className=\"modal-content\">\r\n                <div className=\"modal-header\">\r\n                  <h5 className=\"modal-title\" id=\"staticBackdropLabel\">Edit Note</h5>\r\n                  <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                    <form className=\"container my-2\">\r\n                      <div className=\"mb-3\">\r\n                        <label htmlFor=\"etitle\" className=\"form-label\">\r\n                          Title\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          id=\"etitle\"\r\n                          name=\"etitle\"\r\n                          value={field.etitle}\r\n                          onChange={onChange}\r\n                          aria-describedby=\"titleHelp\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"mb-3\">\r\n                        <label htmlFor=\"edescription\" className=\"form-label\">\r\n                          Description\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          id=\"edescription\"\r\n                          name=\"edescription\"\r\n                          value={field.edescription}\r\n                          onChange={onChange}\r\n                        />\r\n                      </div>\r\n                      <div className=\"mb-3\">\r\n                        <label htmlFor=\"etag\" className=\"form-label\">\r\n                          Tag\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          id=\"etag\"\r\n                          name=\"etag\"\r\n                          value={field.etag}\r\n                          onChange={onChange}\r\n                        />\r\n                      </div>\r\n                    </form>\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                  <button type=\"button\" ref={refClose} className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n                  <button type=\"button\" className=\"btn btn-primary\" onClick={callEdit}>Update</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        <div className=\"formDiv\">\r\n        <h2 className='mx-2 my-2 formHeading'>Your Notes</h2>\r\n          {notes.length === 0 && <strong id='noNotes'>No notes to display</strong>}\r\n          <div className=\"row\">\r\n\r\n        {notes.map((note)=>{\r\n          return <Noteitem key={note._id} updateNote ={updateNote} note ={note}/>\r\n        })}\r\n        </div>\r\n        </div>  \r\n    </div>\r\n    \r\n  )\r\n}\r\n\r\nexport default Notes"],"mappings":"4ZAAA,MAAOA,MAAP,EAAeC,UAAf,CAA2BC,SAA3B,CAAsCC,MAAtC,CAA8CC,QAA9C,KAA6D,OAA7D,CACA,OAAQC,WAAR,KAA0B,kBAA1B,CACA,MAAOC,YAAP,KAAwB,8BAAxB,CACA,MAAOC,QAAP,KAAoB,WAApB,CACA,MAAOC,SAAP,KAAqB,YAArB,C,wFAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CAClB,GAAMC,SAAQ,CAAGL,WAAW,EAA5B,CACA,GAAMM,QAAO,CAAGV,UAAU,CAACK,WAAD,CAA1B,CACA,GAAOM,MAAP,CAAkDD,OAAlD,CAAOC,KAAP,CAAcC,UAAd,CAAkDF,OAAlD,CAAcE,UAAd,CAA0BC,QAA1B,CAAkDH,OAAlD,CAA0BG,QAA1B,CAAoCC,SAApC,CAAkDJ,OAAlD,CAAoCI,SAApC,CACAb,SAAS,CAAC,UAAM,CACd,GAAGc,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAH,CACEJ,UAAU,GADZ,IAEK,CACHH,QAAQ,CAAC,QAAD,CAAR,CACAK,SAAS,CAAC,yBAAD,CAA4B,SAA5B,CAAT,CACD,CACD;AACD,CARQ,CAQN,EARM,CAAT,CAUA;AACA,cAA0BX,QAAQ,CAAC,CAACc,EAAE,CAAE,EAAL,CAASC,MAAM,CAAC,EAAhB,CAAoBC,YAAY,CAAC,EAAjC,CAAqCC,IAAI,CAAC,EAA1C,CAAD,CAAlC,wCAAOC,KAAP,eAAcC,QAAd,eAEA,GAAMC,MAAK,CAAGrB,MAAM,CAAC,IAAD,CAApB,CACA,GAAMsB,SAAQ,CAAGtB,MAAM,CAAC,IAAD,CAAvB,CAEE,GAAMuB,WAAU,CAAG,QAAbA,WAAa,CAACC,WAAD,CAAe,CAChCJ,QAAQ,CAAC,CACPL,EAAE,CAAES,WAAW,CAACC,GADT,CAEPT,MAAM,CAAEQ,WAAW,CAACE,KAFb,CAGPT,YAAY,CAAEO,WAAW,CAACG,WAHnB,CAIPT,IAAI,CAAEM,WAAW,CAACI,GAJX,CAAD,CAAR,CAMAP,KAAK,CAACQ,OAAN,CAAcC,KAAd,GAED,CATD,CAWA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,CAACC,CAAD,CAAK,CACpBZ,QAAQ,gCAAKD,KAAL,wBAAaa,CAAC,CAACC,MAAF,CAASC,IAAtB,CAA6BF,CAAC,CAACC,MAAF,CAASE,KAAtC,GAAR,CACH,CAFC,CAIA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAI,CACnBzB,QAAQ,CAAEQ,KAAK,CAACJ,EAAR,CAAYI,KAAK,CAACH,MAAlB,CAA0BG,KAAK,CAACF,YAAhC,CAA8CE,KAAK,CAACD,IAApD,CAAR,CACAI,QAAQ,CAACO,OAAT,CAAiBC,KAAjB,GACD,CAHD,CAKF,mBACE,aAAK,SAAS,CAAC,cAAf,wBACE,YAAK,SAAS,CAAC,SAAf,uBACE,KAAC,OAAD,IADF,EADF,cAKM,eAAQ,IAAI,CAAC,QAAb,CAAsB,GAAG,CAAET,KAA3B,CAAkC,SAAS,CAAC,wBAA5C,CAAqE,iBAAe,OAApF,CAA4F,iBAAe,iBAA3G,0CALN,cASM,YAAK,SAAS,CAAC,YAAf,CAA4B,EAAE,CAAC,gBAA/B,CAAgD,mBAAiB,QAAjE,CAA0E,mBAAiB,OAA3F,CAAmG,QAAQ,CAAC,IAA5G,CAAiH,kBAAgB,qBAAjI,CAAuJ,cAAY,MAAnK,uBACE,YAAK,SAAS,CAAC,cAAf,uBACE,aAAK,SAAS,CAAC,eAAf,wBACE,aAAK,SAAS,CAAC,cAAf,wBACE,WAAI,SAAS,CAAC,aAAd,CAA4B,EAAE,CAAC,qBAA/B,uBADF,cAEE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,WAAhC,CAA4C,kBAAgB,OAA5D,CAAoE,aAAW,OAA/E,EAFF,GADF,cAKE,YAAK,SAAS,CAAC,YAAf,uBACI,cAAM,SAAS,CAAC,gBAAhB,wBACE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,QAAf,CAAwB,SAAS,CAAC,YAAlC,mBADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,EAAE,CAAC,QAHL,CAIE,IAAI,CAAC,QAJP,CAKE,KAAK,CAAEF,KAAK,CAACH,MALf,CAME,QAAQ,CAAEe,QANZ,CAOE,mBAAiB,WAPnB,EAJF,GADF,cAeE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,cAAf,CAA8B,SAAS,CAAC,YAAxC,yBADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,EAAE,CAAC,cAHL,CAIE,IAAI,CAAC,cAJP,CAKE,KAAK,CAAEZ,KAAK,CAACF,YALf,CAME,QAAQ,CAAEc,QANZ,EAJF,GAfF,cA4BE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,MAAf,CAAsB,SAAS,CAAC,YAAhC,iBADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,EAAE,CAAC,MAHL,CAIE,IAAI,CAAC,MAJP,CAKE,KAAK,CAAEZ,KAAK,CAACD,IALf,CAME,QAAQ,CAAEa,QANZ,EAJF,GA5BF,GADJ,EALF,cAiDE,aAAK,SAAS,CAAC,cAAf,wBACE,eAAQ,IAAI,CAAC,QAAb,CAAsB,GAAG,CAAET,QAA3B,CAAqC,SAAS,CAAC,mBAA/C,CAAmE,kBAAgB,OAAnF,mBADF,cAEE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,CAAkD,OAAO,CAAEc,QAA3D,oBAFF,GAjDF,GADF,EADF,EATN,cAmEI,aAAK,SAAS,CAAC,SAAf,wBACA,WAAI,SAAS,CAAC,uBAAd,wBADA,CAEG3B,KAAK,CAAC4B,MAAN,GAAiB,CAAjB,eAAsB,eAAQ,EAAE,CAAC,SAAX,iCAFzB,cAGE,YAAK,SAAS,CAAC,KAAf,UAED5B,KAAK,CAAC6B,GAAN,CAAU,SAACC,IAAD,CAAQ,CACjB,mBAAO,KAAC,QAAD,EAAyB,UAAU,CAAGhB,UAAtC,CAAkD,IAAI,CAAGgB,IAAzD,EAAeA,IAAI,CAACd,GAApB,CAAP,CACD,CAFA,CAFC,EAHF,GAnEJ,GADF,CAiFD,CAzHD,CA2HA,cAAenB,MAAf"},"metadata":{},"sourceType":"module"}